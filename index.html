<html>
<head>
 <style>
 body {
 font-family: Arial, sans-serif;
 text-align: center;
 }

 #game-board {
 display: inline-block;
 }

 #score {
 font-size: 2em;
 }

 button {
 font-size: 1.5em;
 margin: 0.5em;
 }
 </style>
</head>
<body>
 <h1>Sake Game</h1>
 <div id="score">Score: 0</div>
 <div id="game-board"></div>
 <button id="start-button">Start</button>
 <button id="pause-button">Pause</button>
 <button id="left-button">Left</button>
 <button id="right-button">Right</button>

 <script>
 let gameBoard = document.getElementById("game-board");
 let scoreElement = document.getElementById("score");
 let startButton = document.getElementById("start-button");
 let pauseButton = document.getElementById("pause-button");
 let leftButton = document.getElementById("left-button");
 let rightButton = document.getElementById("right-button");

 const urlParams = new URLSearchParams(window.location.search);
 const code = urlParams.get('code');
 console.log(code)
 alert(code)

 const params = new URLSearchParams({
  grant_type: "authorization_code",
  code: code,
  redirect_uri: "https://jaftasepember.github.io/reatutsamvana/",
  client_id: 'f932f514-cc87-4f38-a6e2-7d432eed902e',
  client_secret: '4d4412b4-dcec-41ef-b3e0-9941bfa67bc2'
});

 const TOKEN_ENDPOINT = "https://huggingface.co/oauth/token'";

const options = {
  method: "POST",
  headers: {
    Accept: "application/json",
    "Content-Type": "application/x-www-form-urlencoded",
  },
  body: params,
};

 

  fetch(TOKEN_ENDPOINT, options)
  .then((res) => res.json())
  .then((json) => {
    const accessToken = json["access_token"];
    console.log("Access Token:", accessToken);
   alert(accessToken)
    // Do something with the access token here
  })
  .catch((err) => {
    console.error("Error:", err);
   alert(err)
  });

 let game;
 let score = 0;

 function startGame() {
 game = new SakeGame(gameBoard, onSakeCollected);
 game.start();
 }

 function pauseGame() {
 game.pause();
 }

 function moveLeft() {
 game.movePlayer(-1);
 }

 function moveRight() {
 game.movePlayer(1);
 }

 function onSakeCollected() {
 score++;
 scoreElement.textContent = `Score: ${score}`;
 }

 startButton.addEventListener("click", startGame);
 pauseButton.addEventListener("click", pauseGame);
 leftButton.addEventListener("click", moveLeft);
 rightButton.addEventListener("click", moveRight);
 </script>
</body>
</html>
